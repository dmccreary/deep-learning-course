
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="An example of an intelligent textbook for teaching deep learning. All content licensed Creative Commons ShareAlike Attribution Noncommercial">
      
      
        <meta name="author" content="Dan McCreary">
      
      
        <link rel="canonical" href="https://dmccreary.github.io/deep-learning-course/labs/calculating-tokens-per-second/">
      
      
        <link rel="prev" href="../mnist/">
      
      
        <link rel="next" href="../../prompts/">
      
      
      <link rel="icon" href="../../img/favicon.ico">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.12">
    
    
      
        <title>Counting Tokens Per Second - Deep Learning with AI</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.2afb09e1.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../css/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  

<script id="__analytics">function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-5MJ3S17WFF"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-5MJ3S17WFF",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-5MJ3S17WFF",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script>
  
    <script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
  

    
    
      
        <meta  property="og:type"  content="website" >
      
        <meta  property="og:title"  content="Counting Tokens Per Second - Deep Learning with AI" >
      
        <meta  property="og:description"  content="An example of an intelligent textbook for teaching deep learning. All content licensed Creative Commons ShareAlike Attribution Noncommercial" >
      
        <meta  property="og:image"  content="https://dmccreary.github.io/deep-learning-course/assets/images/social/labs/calculating-tokens-per-second.png" >
      
        <meta  property="og:image:type"  content="image/png" >
      
        <meta  property="og:image:width"  content="1200" >
      
        <meta  property="og:image:height"  content="630" >
      
        <meta  property="og:url"  content="https://dmccreary.github.io/deep-learning-course/labs/calculating-tokens-per-second/" >
      
        <meta  name="twitter:card"  content="summary_large_image" >
      
        <meta  name="twitter:title"  content="Counting Tokens Per Second - Deep Learning with AI" >
      
        <meta  name="twitter:description"  content="An example of an intelligent textbook for teaching deep learning. All content licensed Creative Commons ShareAlike Attribution Noncommercial" >
      
        <meta  name="twitter:image"  content="https://dmccreary.github.io/deep-learning-course/assets/images/social/labs/calculating-tokens-per-second.png" >
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="custom" data-md-color-accent="gold">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#calculating-tokens-per-second" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Deep Learning with AI" class="md-header__button md-logo" aria-label="Deep Learning with AI" data-md-component="logo">
      
  <img src="../../img/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Deep Learning with AI
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Counting Tokens Per Second
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/dmccreary/deep-learning-course" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub Repo
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Deep Learning with AI" class="md-nav__button md-logo" aria-label="Deep Learning with AI" data-md-component="logo">
      
  <img src="../../img/logo.png" alt="logo">

    </a>
    Deep Learning with AI
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/dmccreary/deep-learning-course" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub Repo
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../about/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    About
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../course-description/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Course Description
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../../chapters/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    Chapters
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" checked>
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Labs
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_5" id="__nav_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Labs
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../mnist/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    MNIST
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Counting Tokens Per Second
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Counting Tokens Per Second
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-record-the-time-before-the-model-runs-with" class="md-nav__link">
    <span class="md-ellipsis">
      1. Record the time before the model runs with
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-record-the-end-time-and-calculate-the-elapsed-time" class="md-nav__link">
    <span class="md-ellipsis">
      2. Record the end time and calculate the elapsed time
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-count-the-total-number-of-tokens-in-the-result-and-calculate-the-tokens-per-second" class="md-nav__link">
    <span class="md-ellipsis">
      3. Count the total number of tokens in the result and calculate the tokens per second
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#complete-program" class="md-nav__link">
    <span class="md-ellipsis">
      Complete Program
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#result" class="md-nav__link">
    <span class="md-ellipsis">
      Result
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Result">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#step-1-identify-key-topics-in-deep-learning" class="md-nav__link">
    <span class="md-ellipsis">
      Step 1: Identify Key Topics in Deep Learning
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-2-consider-mathematical-foundations" class="md-nav__link">
    <span class="md-ellipsis">
      Step 2: Consider Mathematical Foundations
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-3-explore-practical-aspects-of-deep-learning" class="md-nav__link">
    <span class="md-ellipsis">
      Step 3: Explore Practical Aspects of Deep Learning
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-4-review-advanced-topics-and-emerging-trends" class="md-nav__link">
    <span class="md-ellipsis">
      Step 4: Review Advanced Topics and Emerging Trends
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-5-refine-the-list-of-important-concepts" class="md-nav__link">
    <span class="md-ellipsis">
      Step 5: Refine the List of Important Concepts
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mathematical-foundations-1-10" class="md-nav__link">
    <span class="md-ellipsis">
      Mathematical Foundations (1-10)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#neural-network-architectures-11-20" class="md-nav__link">
    <span class="md-ellipsis">
      Neural Network Architectures (11-20)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deep-learning-frameworks-and-tools-21-25" class="md-nav__link">
    <span class="md-ellipsis">
      Deep Learning Frameworks and Tools (21-25)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#practical-aspects-of-deep-learning-26-35" class="md-nav__link">
    <span class="md-ellipsis">
      Practical Aspects of Deep Learning (26-35)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#advanced-topics-and-emerging-trends-36-50" class="md-nav__link">
    <span class="md-ellipsis">
      Advanced Topics and Emerging Trends (36-50)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#inference-statistics" class="md-nav__link">
    <span class="md-ellipsis">
      Inference Statistics
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#model-metadata" class="md-nav__link">
    <span class="md-ellipsis">
      Model Metadata
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Model Metadata">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-arch-architecture" class="md-nav__link">
    <span class="md-ellipsis">
      1. arch (Architecture):
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-parameters-number-of-parameters" class="md-nav__link">
    <span class="md-ellipsis">
      2. parameters (Number of Parameters):
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-quantization" class="md-nav__link">
    <span class="md-ellipsis">
      3. quantization:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-context-length" class="md-nav__link">
    <span class="md-ellipsis">
      4. context length:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#summary" class="md-nav__link">
    <span class="md-ellipsis">
      Summary
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../../prompts/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    Prompts
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../../sims/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    MicroSims
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../../stories/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    Stories
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../checklist/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Checklist
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../glossary/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Glossary
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../how-we-built-this-site/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    How We Built This Site
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../feedback/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Feedback
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../license/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    License
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../references/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    References
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../contact/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Contact
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-record-the-time-before-the-model-runs-with" class="md-nav__link">
    <span class="md-ellipsis">
      1. Record the time before the model runs with
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-record-the-end-time-and-calculate-the-elapsed-time" class="md-nav__link">
    <span class="md-ellipsis">
      2. Record the end time and calculate the elapsed time
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-count-the-total-number-of-tokens-in-the-result-and-calculate-the-tokens-per-second" class="md-nav__link">
    <span class="md-ellipsis">
      3. Count the total number of tokens in the result and calculate the tokens per second
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#complete-program" class="md-nav__link">
    <span class="md-ellipsis">
      Complete Program
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#result" class="md-nav__link">
    <span class="md-ellipsis">
      Result
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Result">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#step-1-identify-key-topics-in-deep-learning" class="md-nav__link">
    <span class="md-ellipsis">
      Step 1: Identify Key Topics in Deep Learning
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-2-consider-mathematical-foundations" class="md-nav__link">
    <span class="md-ellipsis">
      Step 2: Consider Mathematical Foundations
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-3-explore-practical-aspects-of-deep-learning" class="md-nav__link">
    <span class="md-ellipsis">
      Step 3: Explore Practical Aspects of Deep Learning
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-4-review-advanced-topics-and-emerging-trends" class="md-nav__link">
    <span class="md-ellipsis">
      Step 4: Review Advanced Topics and Emerging Trends
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-5-refine-the-list-of-important-concepts" class="md-nav__link">
    <span class="md-ellipsis">
      Step 5: Refine the List of Important Concepts
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mathematical-foundations-1-10" class="md-nav__link">
    <span class="md-ellipsis">
      Mathematical Foundations (1-10)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#neural-network-architectures-11-20" class="md-nav__link">
    <span class="md-ellipsis">
      Neural Network Architectures (11-20)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deep-learning-frameworks-and-tools-21-25" class="md-nav__link">
    <span class="md-ellipsis">
      Deep Learning Frameworks and Tools (21-25)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#practical-aspects-of-deep-learning-26-35" class="md-nav__link">
    <span class="md-ellipsis">
      Practical Aspects of Deep Learning (26-35)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#advanced-topics-and-emerging-trends-36-50" class="md-nav__link">
    <span class="md-ellipsis">
      Advanced Topics and Emerging Trends (36-50)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#inference-statistics" class="md-nav__link">
    <span class="md-ellipsis">
      Inference Statistics
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#model-metadata" class="md-nav__link">
    <span class="md-ellipsis">
      Model Metadata
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Model Metadata">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-arch-architecture" class="md-nav__link">
    <span class="md-ellipsis">
      1. arch (Architecture):
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-parameters-number-of-parameters" class="md-nav__link">
    <span class="md-ellipsis">
      2. parameters (Number of Parameters):
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-quantization" class="md-nav__link">
    <span class="md-ellipsis">
      3. quantization:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-context-length" class="md-nav__link">
    <span class="md-ellipsis">
      4. context length:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#summary" class="md-nav__link">
    <span class="md-ellipsis">
      Summary
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
    <a href="https://github.com/dmccreary/deep-learning-course/blob/master/docs/labs/calculating-tokens-per-second.md" title="Edit this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"/></svg>
    </a>
  
  


<h1 id="calculating-tokens-per-second">Calculating Tokens Per Second</h1>
<p>How quickly a model returns text is a key metric.  Here is a sample
program that calculates the number of tokens per second for the <a href="">Deepseek-r1:7b</a>
running in an <a href="../../glossary/#ollama">Ollama</a> framework.  This test was run on my
local GPU which is a NVIDIA RTX 2080 Ti with 12GB RAM running CUDA 12.6.  The
size of the model was 4.7GB which fits well within the 12GB ram of the GPU.</p>
<p>To time the performance of a model we do the following:</p>
<h3 id="1-record-the-time-before-the-model-runs-with">1. Record the time before the model runs with</h3>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="n">start_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
<h3 id="2-record-the-end-time-and-calculate-the-elapsed-time">2. Record the end time and calculate the elapsed time</h3>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="n">end_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
<span class="n">elapsed_time</span> <span class="o">=</span> <span class="n">end_time</span> <span class="o">-</span> <span class="n">start_time</span>
</code></pre></div></td></tr></table></div>
<h3 id="3-count-the-total-number-of-tokens-in-the-result-and-calculate-the-tokens-per-second">3. Count the total number of tokens in the result and calculate the tokens per second</h3>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="n">token_count</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">result</span><span class="o">.</span><span class="n">split</span><span class="p">())</span>
<span class="n">tokens_per_second</span> <span class="o">=</span> <span class="n">token_count</span> <span class="o">/</span> <span class="n">elapsed_time</span> <span class="k">if</span> <span class="n">elapsed_time</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="k">else</span> <span class="mi">0</span>
</code></pre></div></td></tr></table></div>
<p>Note that we check to make sure that elapsed_time is greater than zero to avoid a divide-by-zero error.</p>
<h2 id="complete-program">Complete Program</h2>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="kn">import</span> <span class="nn">time</span>
<span class="kn">from</span> <span class="nn">langchain_core.prompts</span> <span class="kn">import</span> <span class="n">ChatPromptTemplate</span>
<span class="kn">from</span> <span class="nn">langchain_ollama.llms</span> <span class="kn">import</span> <span class="n">OllamaLLM</span>

<span class="c1"># Define your prompt template.</span>
<span class="n">template</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;Question: </span><span class="si">{question}</span>

<span class="s2">Answer: Let&#39;s think step by step.&quot;&quot;&quot;</span>
<span class="n">prompt</span> <span class="o">=</span> <span class="n">ChatPromptTemplate</span><span class="o">.</span><span class="n">from_template</span><span class="p">(</span><span class="n">template</span><span class="p">)</span>

<span class="c1"># Initialize the Ollama model.</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">OllamaLLM</span><span class="p">(</span><span class="n">model</span><span class="o">=</span><span class="s2">&quot;llama3.1&quot;</span><span class="p">)</span>

<span class="c1"># Chain the prompt and the model.</span>
<span class="n">chain</span> <span class="o">=</span> <span class="n">prompt</span> <span class="o">|</span> <span class="n">model</span>

<span class="c1"># Record the start time.</span>
<span class="n">start_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>

<span class="c1"># Invoke the chain with your question.</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">chain</span><span class="o">.</span><span class="n">invoke</span><span class="p">({</span><span class="s2">&quot;question&quot;</span><span class="p">:</span> <span class="s2">&quot;What are the 50 most imporant concepts in a college level course on deep learning?&quot;</span><span class="p">})</span>

<span class="c1"># Record the end time.</span>
<span class="n">end_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
<span class="n">elapsed_time</span> <span class="o">=</span> <span class="n">end_time</span> <span class="o">-</span> <span class="n">start_time</span>

<span class="c1"># Count tokens in the output.</span>
<span class="c1"># Here we assume tokens are separated by whitespace.</span>
<span class="c1"># (For more accurate token counts, consider using the model&#39;s specific tokenizer.)</span>
<span class="n">token_count</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">result</span><span class="o">.</span><span class="n">split</span><span class="p">())</span>

<span class="c1"># Calculate tokens per second.</span>
<span class="n">tokens_per_second</span> <span class="o">=</span> <span class="n">token_count</span> <span class="o">/</span> <span class="n">elapsed_time</span> <span class="k">if</span> <span class="n">elapsed_time</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="k">else</span> <span class="mi">0</span>

<span class="c1"># Print the result and statistics.</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Result:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Statistics:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Token Count: </span><span class="si">{</span><span class="n">token_count</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Time Elapsed: </span><span class="si">{</span><span class="n">elapsed_time</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2"> seconds&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Tokens per Second: </span><span class="si">{</span><span class="n">tokens_per_second</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
<h2 id="result">Result</h2>
<p>What a fascinating question!</p>
<p>To tackle this, let's break down the process into manageable steps. Here's a suggested approach:</p>
<h3 id="step-1-identify-key-topics-in-deep-learning"><strong>Step 1: Identify Key Topics in Deep Learning</strong></h3>
<p>At a high level, deep learning is a subset of machine learning that focuses on complex models inspired by the structure and function of the brain. The field encompasses various techniques for tasks such as image classification, object detection, speech recognition, natural language processing, and more.</p>
<p>Some key topics to consider when identifying important concepts include:</p>
<ol>
<li>Neural network architectures (e.g., convolutional neural networks, recurrent neural networks)</li>
<li>Deep learning frameworks (e.g., TensorFlow, PyTorch)</li>
<li>Optimization algorithms (e.g., stochastic gradient descent, Adam)</li>
<li>Regularization techniques (e.g., dropout, L1 and L2 regularization)</li>
</ol>
<h3 id="step-2-consider-mathematical-foundations"><strong>Step 2: Consider Mathematical Foundations</strong></h3>
<p>Deep learning relies heavily on mathematical concepts from linear algebra, calculus, probability theory, and statistics.</p>
<p>Some essential math concepts to cover include:</p>
<ol>
<li>Vector spaces and transformations</li>
<li>Matrix operations (e.g., multiplication, inversion)</li>
<li>Eigenvalue decomposition and singular value decomposition</li>
<li>Probability distributions (e.g., Gaussian, Bernoulli)</li>
<li>Expectation and variance</li>
</ol>
<h3 id="step-3-explore-practical-aspects-of-deep-learning"><strong>Step 3: Explore Practical Aspects of Deep Learning</strong></h3>
<p>This includes the implementation, evaluation, and deployment of deep learning models.</p>
<p>Some important practical concepts to consider:</p>
<ol>
<li>Data preprocessing and augmentation techniques</li>
<li>Model selection and hyperparameter tuning</li>
<li>Overfitting and regularization strategies</li>
<li>Model interpretability and explainability</li>
<li>Deployment and scalability in production environments</li>
</ol>
<h3 id="step-4-review-advanced-topics-and-emerging-trends"><strong>Step 4: Review Advanced Topics and Emerging Trends</strong></h3>
<p>As the field of deep learning continues to evolve, it's essential to stay up-to-date with recent developments.</p>
<p>Some advanced topics and emerging trends include:</p>
<ol>
<li>Transfer learning and pre-trained models</li>
<li>Adversarial attacks and defenses</li>
<li>Graph neural networks and graph-based techniques</li>
<li>Attention mechanisms and transformer architectures</li>
<li>Quantum computing and its potential applications in deep learning</li>
</ol>
<h3 id="step-5-refine-the-list-of-important-concepts"><strong>Step 5: Refine the List of Important Concepts</strong></h3>
<p>Considering the topics identified above, let's prioritize them based on their relevance to a college-level course on deep learning.</p>
<p>Here are the top 50 most important concepts:</p>
<h3 id="mathematical-foundations-1-10"><strong>Mathematical Foundations (1-10)</strong></h3>
<ol>
<li>Vector spaces and transformations</li>
<li>Matrix operations (e.g., multiplication, inversion)</li>
<li>Eigenvalue decomposition and singular value decomposition</li>
<li>Probability distributions (e.g., Gaussian, Bernoulli)</li>
<li>Expectation and variance</li>
<li>Calculus basics (e.g., gradients, Hessians)</li>
<li>Linear algebra review (e.g., determinants, eigenvectors)</li>
<li>Probability and statistics review</li>
<li>Optimization algorithms (e.g., gradient descent)</li>
<li>Regularization techniques (e.g., L1, L2)</li>
</ol>
<h3 id="neural-network-architectures-11-20"><strong>Neural Network Architectures (11-20)</strong></h3>
<ol>
<li>Convolutional neural networks (CNNs)</li>
<li>Recurrent neural networks (RNNs)</li>
<li>Long short-term memory (LSTM) networks</li>
<li>Gated recurrent units (GRUs)</li>
<li>Residual connections and skip connections</li>
<li>Autoencoders and variational autoencoders</li>
<li>U-Net architectures for image segmentation</li>
<li>Transformers and self-attention mechanisms</li>
<li>Graph neural networks (GNNs)</li>
<li>Other specialized architectures (e.g., capsule networks)</li>
</ol>
<h3 id="deep-learning-frameworks-and-tools-21-25"><strong>Deep Learning Frameworks and Tools (21-25)</strong></h3>
<ol>
<li>TensorFlow and Keras APIs</li>
<li>PyTorch and Lightning-PyTorch</li>
<li>Deep learning frameworks for GPU acceleration (e.g., cuDNN)</li>
<li>Model serving and deployment tools (e.g., Docker, Kubernetes)</li>
<li>Deep learning software development kits (SDKs) and libraries</li>
</ol>
<h3 id="practical-aspects-of-deep-learning-26-35"><strong>Practical Aspects of Deep Learning (26-35)</strong></h3>
<ol>
<li>Data preprocessing and augmentation techniques</li>
<li>Model selection and hyperparameter tuning</li>
<li>Overfitting and regularization strategies</li>
<li>Model interpretability and explainability</li>
<li>Deployment and scalability in production environments</li>
<li>Model evaluation metrics (e.g., accuracy, precision)</li>
<li>Common pitfalls and debugging techniques</li>
<li>Data efficiency and transfer learning strategies</li>
<li>Regularization techniques for large models</li>
<li>Distributed training and parallelization</li>
</ol>
<h3 id="advanced-topics-and-emerging-trends-36-50"><strong>Advanced Topics and Emerging Trends (36-50)</strong></h3>
<ol>
<li>Transfer learning and pre-trained models</li>
<li>Adversarial attacks and defenses</li>
<li>Graph neural networks and graph-based techniques</li>
<li>Attention mechanisms and transformer architectures</li>
<li>Quantum computing and its potential applications in deep learning</li>
<li>Exponential family distributions and link functions</li>
<li>Causal inference and counterfactual reasoning</li>
<li>Generative models (e.g., GANs, VAEs)</li>
<li>Time series analysis with LSTM networks</li>
<li>Text classification and sentiment analysis</li>
<li>Image recognition and object detection</li>
<li>Speech recognition and natural language processing</li>
<li>Reinforcement learning and deep Q-networks (DQN)</li>
<li>Multi-agent systems and distributed decision-making</li>
<li>Explainability techniques for complex models</li>
</ol>
<p>Of course, this list is not exhaustive, but it should give you a solid starting point for creating a comprehensive college-level course on deep learning.</p>
<p>How's that?</p>
<h2 id="inference-statistics">Inference Statistics</h2>
<p><strong>Token Count:</strong> 687<br/>
<strong>Time Elapsed:</strong> 13.33 seconds<br/>
<strong>Tokens per Second:</strong> 51.55<br/></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Depending on your model's tokenization, you might need a more precise token counter   (e.g., using the <code>tiktoken</code> library for models like GPT).</p>
</div>
<h2 id="model-metadata">Model Metadata</h2>
<p>Knowing about the structure of a model is key to understanding its performance.</p>
<p>Here is the information that ollama provided about deepseek-r1:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span></pre></div></td><td class="code"><div><pre><span></span><code>$<span class="w"> </span>ollama<span class="w"> </span>show<span class="w"> </span>deepseek-r1
<span class="w">  </span>Model<span class="w">                          </span>
<span class="w">    </span>arch<span class="w">                </span>qwen2<span class="w">            </span>
<span class="w">    </span>parameters<span class="w">          </span><span class="m">7</span>.6B<span class="w">             </span>
<span class="w">    </span>quantization<span class="w">        </span>Q4_K_M<span class="w">           </span>
<span class="w">    </span>context<span class="w"> </span>length<span class="w">      </span><span class="m">131072</span><span class="w">           </span>
<span class="w">    </span>embedding<span class="w"> </span>length<span class="w">    </span><span class="m">3584</span><span class="w">             </span>
</code></pre></div></td></tr></table></div>
<p>Let's do a deep dive into each of these model metadata fields.</p>
<h3 id="1-arch-architecture">1.  <strong>arch (Architecture):</strong></h3>
<ul>
<li><strong>What it means:</strong> This parameter indicates the underlying neural network architecture on which the model is based.</li>
<li><strong>In this case:</strong> The model uses the <strong>qwen2</strong> architecture. This tells you which design or blueprint the model follows (e.g., similar to transformer-based architectures like GPT or BERT), which influences how it processes input data and generates responses.</li>
</ul>
<h3 id="2-parameters-number-of-parameters">2.  <strong>parameters (Number of Parameters):</strong></h3>
<ul>
<li><strong>What it means:</strong> This shows the total number of learnable weights (and biases) in the model. The size of this number is often used as a rough proxy for the model's capacity to learn and represent complex patterns.</li>
<li><strong>In this case:</strong> The model has <strong>7.6B</strong> (7.6 billion) parameters. More parameters generally mean a higher capacity model, though they also require more memory and computational resources during inference.</li>
</ul>
<h3 id="3-quantization">3.  <strong>quantization:</strong></h3>
<ul>
<li><strong>What it means:</strong> Quantization refers to reducing the numerical precision of the model's parameters. This process converts high-precision weights (e.g., 32-bit floats) into lower-precision representations (e.g., 4-bit integers) to reduce model size and speed up computations with a minimal loss in accuracy.</li>
<li><strong>In this case:</strong> The value <strong>Q4_K_M</strong> indicates that a 4-bit quantization scheme is used. The "Q4" part tells you that the weights are represented with 4-bit precision, and "K_M" likely refers to the specific quantization method or variant implemented. This balance helps the model run more efficiently while retaining as much performance as possible.</li>
</ul>
<h3 id="4-context-length">4.  <strong>context length:</strong></h3>
<ul>
<li><strong>What it means:</strong> This parameter defines the maximum number of tokens the model can process in a single input prompt (or conversation). In transformer-based models, the context length determines how much text the model can consider at one time.</li>
<li>
<p><strong>In this case:</strong> The model can handle a context of up to <strong>131072</strong> tokens. This is an exceptionally long context compared to most language models, which typically support only a few thousand tokens. It enables the model to process very large documents or maintain extended conversations.</p>
</li>
<li>
<p><strong>embedding length:</strong></p>
</li>
<li>
<p><strong>What it means:</strong> This is the size (or dimensionality) of the vector used to represent each token in the model's internal computations. In other words, every token in the input is mapped to a vector of this length, which the model uses to capture semantic and syntactic information.</p>
</li>
<li><strong>In this case:</strong> An embedding length of <strong>3584</strong> means that each token is converted into a 3584-dimensional vector. A higher embedding dimension can allow for richer representations but also increases the model's computational complexity.</li>
</ul>
<h3 id="summary">Summary</h3>
<ul>
<li><strong>Architecture (arch):</strong> Defines the model's design (here, <strong>qwen2</strong>).</li>
<li><strong>Parameters:</strong> Indicates the model's size in terms of learnable weights (<strong>7.6B</strong> parameters).</li>
<li><strong>Quantization:</strong> Shows how the model's weights are stored (using <strong>4-bit precision</strong> with the specific scheme <strong>Q4_K_M</strong>).</li>
<li><strong>Context Length:</strong> The maximum number of tokens the model can process at once (<strong>131072</strong> tokens).</li>
<li><strong>Embedding Length:</strong> The dimensionality of token representations within the model (<strong>3584</strong>).</li>
</ul>
<p>Each of these parameters provides insight into the model's design, capacity, efficiency, and the scale at which it can process input data.</p>







  
  



  




                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../mnist/" class="md-footer__link md-footer__link--prev" aria-label="Previous: MNIST">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                MNIST
              </div>
            </div>
          </a>
        
        
          
          <a href="../../prompts/" class="md-footer__link md-footer__link--next" aria-label="Next: Intro">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                Intro
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": ["content.code.copy", "navigation.expand", "navigation.path", "navigation.prune", "navigation.indexes", "toc.follow", "navigation.top", "navigation.footer", "content.action.edit"], "search": "../../assets/javascripts/workers/search.f8cc74c7.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.c8b220af.min.js"></script>
      
        <script src="../../js/extra.js"></script>
      
        <script src="https://unpkg.com/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>